{"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/app.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":47}},"4":{"start":{"line":7,"column":24},"end":{"line":7,"column":65}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":61}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":51}},"7":{"start":{"line":10,"column":15},"end":{"line":10,"column":47}},"8":{"start":{"line":11,"column":19},"end":{"line":11,"column":67}},"9":{"start":{"line":12,"column":24},"end":{"line":12,"column":77}},"10":{"start":{"line":13,"column":18},"end":{"line":13,"column":65}},"11":{"start":{"line":14,"column":19},"end":{"line":14,"column":67}},"12":{"start":{"line":15,"column":17},"end":{"line":15,"column":53}},"13":{"start":{"line":16,"column":21},"end":{"line":16,"column":61}},"14":{"start":{"line":17,"column":19},"end":{"line":17,"column":57}},"15":{"start":{"line":18,"column":20},"end":{"line":18,"column":59}},"16":{"start":{"line":19,"column":19},"end":{"line":19,"column":57}},"17":{"start":{"line":20,"column":25},"end":{"line":20,"column":69}},"18":{"start":{"line":21,"column":12},"end":{"line":21,"column":61}},"19":{"start":{"line":23,"column":0},"end":{"line":23,"column":46}},"20":{"start":{"line":25,"column":0},"end":{"line":27,"column":4}},"21":{"start":{"line":28,"column":0},"end":{"line":28,"column":31}},"22":{"start":{"line":29,"column":0},"end":{"line":29,"column":38}},"23":{"start":{"line":30,"column":0},"end":{"line":30,"column":34}},"24":{"start":{"line":31,"column":0},"end":{"line":31,"column":58}},"25":{"start":{"line":32,"column":0},"end":{"line":32,"column":93}},"26":{"start":{"line":34,"column":0},"end":{"line":34,"column":58}},"27":{"start":{"line":36,"column":0},"end":{"line":36,"column":40}},"28":{"start":{"line":37,"column":0},"end":{"line":37,"column":41}},"29":{"start":{"line":39,"column":0},"end":{"line":39,"column":36}},"30":{"start":{"line":40,"column":0},"end":{"line":40,"column":40}},"31":{"start":{"line":42,"column":0},"end":{"line":42,"column":34}},"32":{"start":{"line":44,"column":0},"end":{"line":44,"column":34}},"33":{"start":{"line":46,"column":0},"end":{"line":46,"column":38}},"34":{"start":{"line":47,"column":0},"end":{"line":47,"column":70}},"35":{"start":{"line":48,"column":0},"end":{"line":48,"column":31}},"36":{"start":{"line":49,"column":0},"end":{"line":49,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":15,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1},"f":{"0":15},"b":{"0":[1,1,1],"1":[6,9],"2":[15,15]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/app.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/app.ts"],"names":[],"mappings":";;;;;AAAA,gDAAwB;AACxB,kEAAoC;AACpC,8DAAmC;AACnC,oDAA4B;AAC5B,gDAAwB;AAExB,oEAA4C;AAC5C,8EAAsD;AACtD,kEAA0C;AAC1C,oEAA4C;AAG5C,sDAA8B;AAC9B,8DAAsC;AACtC,0DAAkC;AAClC,4DAAmC;AACnC,0DAAkC;AAElC,sEAA8C;AAE9C,MAAM,GAAG,GAAgB,IAAA,iBAAO,EAAC,IAAA,kBAAQ,GAAE,CAAC,CAAC;AAG7C,yBAAyB;AACzB,GAAG,CAAC,SAAS,CAAC,IAAA,uBAAa,GAAE,CAAC,CAAC;AAC/B,+DAA+D;AAC/D,GAAG,CAAC,GAAG,CAAC,IAAA,gBAAM,EAAC;IACb,qBAAqB,EAAE,KAAK;CAC7B,CAAC,CAAC,CAAC;AACJ,GAAG,CAAC,GAAG,CAAC,IAAA,cAAI,GAAE,CAAC,CAAC;AAChB,GAAG,CAAC,GAAG,CAAC,IAAA,qBAAQ,GAAE,CAAC,CAAC;AACpB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAChD,GAAG,CAAC,GAAG,CAAC,IAAA,uBAAO,EAAC,cAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;AAC9D,yBAAyB;AACzB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,iBAAO,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AAEhD,+BAA+B;AAC/B,GAAG,CAAC,SAAS,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AAC9B,GAAG,CAAC,SAAS,CAAC,IAAA,kBAAQ,GAAE,CAAC,CAAC;AAE1B,yDAAyD;AACzD,GAAG,CAAC,SAAS,CAAC,oBAAU,CAAC,CAAC;AAC1B,GAAG,CAAC,SAAS,CAAC,wBAAc,CAAC,CAAC;AAC9B,gDAAgD;AAChD,GAAG,CAAC,SAAS,CAAC,kBAAQ,CAAC,CAAC;AACxB,0CAA0C;AAC1C,GAAG,CAAC,SAAS,CAAC,kBAAQ,CAAC,CAAC;AAExB,wDAAwD;AACxD,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;AAC5B,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,YAAY,CAAC,EAAE,MAAM,EAAN,gBAAM,EAAS,CAAC,CAAC,CAAC;AAEjD,GAAG,CAAC,KAAK,CAAC,mBAAQ,CAAC,CAAC;AAEpB,kBAAe,GAAG,CAAC","sourcesContent":["import path from 'path';\nimport favicon from 'serve-favicon';\nimport compress from 'compression';\nimport helmet from 'helmet';\nimport cors from 'cors';\n\nimport feathers from '@feathersjs/feathers';\nimport configuration from '@feathersjs/configuration';\nimport express from '@feathersjs/express';\nimport socketio from '@feathersjs/socketio';\n\nimport { Application } from './declarations';\nimport logger from './logger';\nimport middleware from './middleware';\nimport services from './services';\nimport appHooks from './app.hooks';\nimport channels from './channels';\nimport { HookContext as FeathersHookContext } from '@feathersjs/feathers';\nimport authentication from './authentication';\n\nconst app: Application = express(feathers());\nexport type HookContext<T = any> = { app: Application } & FeathersHookContext<T>;\n\n// Load app configuration\napp.configure(configuration());\n// Enable security, CORS, compression, favicon and body parsing\napp.use(helmet({\n  contentSecurityPolicy: false\n}));\napp.use(cors());\napp.use(compress());\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(favicon(path.join(app.get('public'), 'favicon.ico')));\n// Host the public folder\napp.use('/', express.static(app.get('public')));\n\n// Set up Plugins and providers\napp.configure(express.rest());\napp.configure(socketio());\n\n// Configure other middleware (see `middleware/index.ts`)\napp.configure(middleware);\napp.configure(authentication);\n// Set up our services (see `services/index.ts`)\napp.configure(services);\n// Set up event channels (see channels.ts)\napp.configure(channels);\n\n// Configure a middleware for 404s and the error handler\napp.use(express.notFound());\napp.use(express.errorHandler({ logger } as any));\n\napp.hooks(appHooks);\n\nexport default app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8c6145521d7570721b011ecb965fc028ea692a84","contentHash":"5e086abbead7af166b1e1d2c0050038bbe65f3ce4a8b1eba8e31808cd68355b1"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/logger.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/logger.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":5,"column":15},"end":{"line":12,"column":2}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/logger.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/logger.ts"],"names":[],"mappings":";;AAAA,qCAA2D;AAE3D,wGAAwG;AACxG,MAAM,MAAM,GAAG,IAAA,sBAAY,EAAC;IAC1B,sDAAsD;IACtD,KAAK,EAAE,MAAM;IACb,MAAM,EAAE,gBAAM,CAAC,OAAO,CACpB,gBAAM,CAAC,KAAK,EAAE,EACd,gBAAM,CAAC,MAAM,EAAE,CAChB;IACD,UAAU,EAAE;QACV,IAAI,oBAAU,CAAC,OAAO,EAAE;KACzB;CACF,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import { createLogger, format, transports } from 'winston';\n\n// Configure the Winston logger. For the complete documentation see https://github.com/winstonjs/winston\nconst logger = createLogger({\n  // To see more detailed errors, change this to 'debug'\n  level: 'info',\n  format: format.combine(\n    format.splat(),\n    format.simple()\n  ),\n  transports: [\n    new transports.Console()\n  ],\n});\n\nexport default logger;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a5c19f715412c325342df6f66c316e497a4af44b","contentHash":"3567ec4b13bc9beb91a3632c9e09d5d2b56d48c78d902c917a6a3caeda52cd85"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/middleware/index.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/middleware/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}}},"fnMap":{"0":{"name":"default_1","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":18}},"loc":{"start":{"line":5,"column":24},"end":{"line":6,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/middleware/index.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/middleware/index.ts"],"names":[],"mappings":";;AACA,wEAAwE;AAExE,mGAAmG;AACnG,mBAAyB,GAAgB;AACzC,CAAC;AADD,4BACC","sourcesContent":["import { Application } from '../declarations';\n// Don't remove this comment. It's needed to format import lines nicely.\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\nexport default function (app: Application): void {\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d0affa7df51e015b12ebf1ac57af0c21c7fb9f5d","contentHash":"fdb70e6a08152dc931f1cc3f0521180dcaeb9c75654165dc40c821631b7f5cf7"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/index.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":24},"end":{"line":6,"column":73}},"4":{"start":{"line":7,"column":27},"end":{"line":7,"column":82}},"5":{"start":{"line":10,"column":4},"end":{"line":10,"column":43}},"6":{"start":{"line":11,"column":4},"end":{"line":11,"column":46}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"default_1","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":18}},"loc":{"start":{"line":9,"column":24},"end":{"line":12,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":2,"1":1},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/index.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/index.ts"],"names":[],"mappings":";;;;;AACA,0EAA0C;AAC1C,mFAAmD;AACnD,wEAAwE;AAExE,mBAAyB,GAAgB;IACvC,GAAG,CAAC,SAAS,CAAC,uBAAK,CAAC,CAAC;IACrB,GAAG,CAAC,SAAS,CAAC,0BAAQ,CAAC,CAAC;AAC1B,CAAC;AAHD,4BAGC","sourcesContent":["import { Application } from '../declarations';\nimport users from './users/users.service';\nimport messages from './messages/messages.service';\n// Don't remove this comment. It's needed to format import lines nicely.\n\nexport default function (app: Application): void {\n  app.configure(users);\n  app.configure(messages);\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6ac03e018b24422b1331faf9c186b1dab79832b2","contentHash":"e1ef35548cee99991e315ea5184bec70189705de07fd4751e62b598b8ddf251e"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.service.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.service.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":46}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":74}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":63}},"6":{"start":{"line":10,"column":20},"end":{"line":13,"column":5}},"7":{"start":{"line":15,"column":4},"end":{"line":15,"column":61}},"8":{"start":{"line":17,"column":20},"end":{"line":17,"column":40}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":41}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"default_1","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":18}},"loc":{"start":{"line":9,"column":24},"end":{"line":19,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":2,"1":1},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.service.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.service.ts"],"names":[],"mappings":";;;;;AAGA,+CAAsC;AACtC,2EAAmD;AACnD,gEAAkC;AASlC,mBAAyB,GAAgB;IACvC,MAAM,OAAO,GAAG;QACd,KAAK,EAAE,IAAA,qBAAW,EAAC,GAAG,CAAC;QACvB,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC;KAC9B,CAAC;IAEF,sDAAsD;IACtD,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,mBAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;IAE3C,4DAA4D;IAC5D,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IAErC,OAAO,CAAC,KAAK,CAAC,qBAAK,CAAC,CAAC;AACvB,CAAC;AAbD,4BAaC","sourcesContent":["// Initializes the `users` service on path `/users`\nimport { ServiceAddons } from '@feathersjs/feathers';\nimport { Application } from '../../declarations';\nimport { Users } from './users.class';\nimport createModel from '../../models/users.model';\nimport hooks from './users.hooks';\n\n// Add this service to the service type index\ndeclare module '../../declarations' {\n  interface ServiceTypes {\n    'users': Users & ServiceAddons<any>;\n  }\n}\n\nexport default function (app: Application): void {\n  const options = {\n    Model: createModel(app),\n    paginate: app.get('paginate')\n  };\n\n  // Initialize our service with any options it requires\n  app.use('/users', new Users(options, app));\n\n  // Get our initialized service so that we can register hooks\n  const service = app.service('users');\n\n  service.hooks(hooks);\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1c156d5d6f8893403c170055b50a93d69dfa507d","contentHash":"d2731d4afdb95ecc7eabf5c3ad3b98639a85d3d5e4d07a84b40ec53883c820a1"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.class.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.class.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":51}},"5":{"start":{"line":8,"column":24},"end":{"line":8,"column":48}},"6":{"start":{"line":9,"column":20},"end":{"line":9,"column":51}},"7":{"start":{"line":10,"column":14},"end":{"line":10,"column":20}},"8":{"start":{"line":11,"column":20},"end":{"line":15,"column":1}},"9":{"start":{"line":12,"column":17},"end":{"line":13,"column":50}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":45}},"11":{"start":{"line":19,"column":8},"end":{"line":19,"column":23}},"12":{"start":{"line":22,"column":52},"end":{"line":22,"column":56}},"13":{"start":{"line":23,"column":23},"end":{"line":23,"column":56}},"14":{"start":{"line":24,"column":25},"end":{"line":30,"column":9}},"15":{"start":{"line":31,"column":8},"end":{"line":31,"column":46}},"16":{"start":{"line":34,"column":0},"end":{"line":34,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":20},"end":{"line":11,"column":21}},"loc":{"start":{"line":11,"column":31},"end":{"line":15,"column":1}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":30},"end":{"line":20,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":25},"end":{"line":32,"column":5}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":23,"column":23},"end":{"line":23,"column":56}},"type":"binary-expr","locations":[{"start":{"line":23,"column":23},"end":{"line":23,"column":34}},{"start":{"line":23,"column":38},"end":{"line":23,"column":56}}],"line":23}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":4,"10":4,"11":1,"12":4,"13":4,"14":4,"15":4,"16":1},"f":{"0":1,"1":4,"2":1,"3":4},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[4,4]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.class.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.class.ts"],"names":[],"mappings":";;;;;;AAAA,oDAA4B;AAE5B,iDAA4D;AAG5D,MAAM,WAAW,GAAG,+BAA+B,CAAC;AAEpD,MAAM,KAAK,GAAG,MAAM,CAAC;AAErB,MAAM,WAAW,GAAG,CAAC,KAAa,EAAE,EAAE;IACpC,MAAM,IAAI,GAAG,gBAAM,CAAC,UAAU,CAAC,KAAK,CAAC;SAClC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAE7C,OAAO,GAAG,WAAW,IAAI,IAAI,IAAI,KAAK,EAAE,CAAC;AAC3C,CAAC,CAAC;AAWF,MAAa,KAAM,SAAQ,uBAAO;IAChC,4DAA4D;IAC5D,YAAY,OAAoC,EAAE,GAAgB;QAChE,KAAK,CAAC,OAAO,CAAC,CAAC;IACjB,CAAC;IAED,MAAM,CAAE,IAAc,EAAE,MAAe;QACrC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;QACjD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;QAEjD,MAAM,QAAQ,GAAG;YACf,KAAK;YACL,IAAI;YACJ,QAAQ;YACR,QAAQ;YACR,MAAM;SACP,CAAC;QAEF,OAAO,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACxC,CAAC;CACF;AApBD,sBAoBC","sourcesContent":["import crypto from 'crypto';\nimport { Params } from '@feathersjs/feathers';\nimport { Service, NedbServiceOptions } from 'feathers-nedb';\nimport { Application } from '../../declarations';\n\nconst gravatarUrl = 'https://s.gravatar.com/avatar';\n\nconst query = 's=60';\n\nconst getGravatar = (email: string) => {\n  const hash = crypto.createHash('md5')\n    .update(email.toLowerCase()).digest('hex');\n\n  return `${gravatarUrl}/${hash}?${query}`;\n};\n\ninterface UserData {\n  _id?: string;\n  email: string;\n  password: string;\n  name?: string;\n  avatar?: string;\n  githubId?: string;\n}\n\nexport class Users extends Service {\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  constructor(options: Partial<NedbServiceOptions>, app: Application) {\n    super(options);\n  }\n\n  create (data: UserData, params?: Params) {\n    const { email, password, githubId, name } = data;\n    const avatar = data.avatar || getGravatar(email);\n\n    const userData = {\n      email,\n      name,\n      password,\n      githubId,\n      avatar\n    };\n\n    return super.create(userData, params);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2f7fdc95f60cf06847e21a1d45a3935108790e1d","contentHash":"e6a0d647ea90facc6e70bda2b434f12299a3e09b60cd9cedb0bbaffa3080f6b1"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/models/users.model.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/models/users.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":57}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":9,"column":19},"end":{"line":9,"column":34}},"6":{"start":{"line":10,"column":18},"end":{"line":13,"column":6}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":60}},"8":{"start":{"line":15,"column":4},"end":{"line":15,"column":17}},"9":{"start":{"line":17,"column":0},"end":{"line":17,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"default_1","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":18}},"loc":{"start":{"line":8,"column":24},"end":{"line":16,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":2,"1":1},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/models/users.model.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/models/users.model.ts"],"names":[],"mappings":";;;;;AAAA,0DAAkC;AAClC,gDAAwB;AAGxB,mBAAyB,GAAgB;IACvC,MAAM,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAC/B,MAAM,KAAK,GAAG,IAAI,cAAI,CAAC;QACrB,QAAQ,EAAE,cAAI,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC;QACvC,QAAQ,EAAE,IAAI;KACf,CAAC,CAAC;IAEH,KAAK,CAAC,WAAW,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;IAExD,OAAO,KAAK,CAAC;AACf,CAAC;AAVD,4BAUC","sourcesContent":["import NeDB from '@seald-io/nedb';\nimport path from 'path';\nimport { Application } from '../declarations';\n\nexport default function (app: Application): NeDB<any> {\n  const dbPath = app.get('nedb');\n  const Model = new NeDB({\n    filename: path.join(dbPath, 'users.db'),\n    autoload: true\n  });\n\n  Model.ensureIndex({ fieldName: 'email', unique: true });\n\n  return Model;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a2487c0bd6a20f83799ba81bdb7224fb2f85e137","contentHash":"88aade2c98ace4a6aecc4e248ca7742f43202020aec99149e402c182d530a3fd"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.hooks.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.hooks.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":31},"end":{"line":26,"column":82}},"26":{"start":{"line":27,"column":14},"end":{"line":27,"column":71}},"27":{"start":{"line":29,"column":25},"end":{"line":29,"column":53}},"28":{"start":{"line":30,"column":34},"end":{"line":30,"column":45}},"29":{"start":{"line":31,"column":0},"end":{"line":63,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":1,"15":2,"16":2,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":2},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[2,0],"12":[2,2],"13":[0,0],"14":[0,0],"15":[0,0]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.hooks.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/users/users.hooks.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mFAAqE;AACrE,wEAA0D;AAC1D,wEAAwE;AAExE,MAAM,EAAE,YAAY,EAAE,GAAG,sBAAsB,CAAC,KAAK,CAAC;AACtD,MAAM,EAAE,YAAY,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC;AAE9C,kBAAe;IACb,MAAM,EAAE;QACN,GAAG,EAAE,EAAE;QACP,IAAI,EAAE,CAAE,YAAY,CAAC,KAAK,CAAC,CAAE;QAC7B,GAAG,EAAE,CAAE,YAAY,CAAC,KAAK,CAAC,CAAE;QAC5B,MAAM,EAAE,CAAE,YAAY,CAAC,UAAU,CAAC,CAAE;QACpC,MAAM,EAAE,CAAE,YAAY,CAAC,UAAU,CAAC,EAAG,YAAY,CAAC,KAAK,CAAC,CAAE;QAC1D,KAAK,EAAE,CAAE,YAAY,CAAC,UAAU,CAAC,EAAG,YAAY,CAAC,KAAK,CAAC,CAAE;QACzD,MAAM,EAAE,CAAE,YAAY,CAAC,KAAK,CAAC,CAAE;KAChC;IAED,KAAK,EAAE;QACL,GAAG,EAAE;YACH,2DAA2D;YAC3D,+BAA+B;YAC/B,OAAO,CAAC,UAAU,CAAC;SACpB;QACD,IAAI,EAAE,EAAE;QACR,GAAG,EAAE,EAAE;QACP,MAAM,EAAE,EAAE;QACV,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;KACX;IAED,KAAK,EAAE;QACL,GAAG,EAAE,EAAE;QACP,IAAI,EAAE,EAAE;QACR,GAAG,EAAE,EAAE;QACP,MAAM,EAAE,EAAE;QACV,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;KACX;CACF,CAAC","sourcesContent":["import * as feathersAuthentication from '@feathersjs/authentication';\nimport * as local from '@feathersjs/authentication-local';\n// Don't remove this comment. It's needed to format import lines nicely.\n\nconst { authenticate } = feathersAuthentication.hooks;\nconst { hashPassword, protect } = local.hooks;\n\nexport default {\n  before: {\n    all: [],\n    find: [ authenticate('jwt') ],\n    get: [ authenticate('jwt') ],\n    create: [ hashPassword('password') ],\n    update: [ hashPassword('password'),  authenticate('jwt') ],\n    patch: [ hashPassword('password'),  authenticate('jwt') ],\n    remove: [ authenticate('jwt') ]\n  },\n\n  after: {\n    all: [ \n      // Make sure the password field is never sent to the client\n      // Always must be the last hook\n      protect('password')\n    ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4cd6f84496bb31862211cdd73b941caca33683e9","contentHash":"8facc1bd4b91ad2698f1415fa906616665bdbc5e8faba097cd705b39213de73f"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.service.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.service.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":52}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":80}},"5":{"start":{"line":8,"column":25},"end":{"line":8,"column":69}},"6":{"start":{"line":10,"column":20},"end":{"line":13,"column":5}},"7":{"start":{"line":15,"column":4},"end":{"line":15,"column":70}},"8":{"start":{"line":17,"column":20},"end":{"line":17,"column":43}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":44}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"default_1","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":18}},"loc":{"start":{"line":9,"column":24},"end":{"line":19,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":2,"1":1},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.service.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.service.ts"],"names":[],"mappings":";;;;;AAGA,qDAA4C;AAC5C,iFAAsD;AACtD,sEAAqC;AASrC,mBAAyB,GAAgB;IACvC,MAAM,OAAO,GAAG;QACd,KAAK,EAAE,IAAA,wBAAW,EAAC,GAAG,CAAC;QACvB,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC;KAC9B,CAAC;IAEF,sDAAsD;IACtD,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,yBAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;IAEjD,4DAA4D;IAC5D,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAExC,OAAO,CAAC,KAAK,CAAC,wBAAK,CAAC,CAAC;AACvB,CAAC;AAbD,4BAaC","sourcesContent":["// Initializes the `messages` service on path `/messages`\nimport { ServiceAddons } from '@feathersjs/feathers';\nimport { Application } from '../../declarations';\nimport { Messages } from './messages.class';\nimport createModel from '../../models/messages.model';\nimport hooks from './messages.hooks';\n\n// Add this service to the service type index\ndeclare module '../../declarations' {\n  interface ServiceTypes {\n    'messages': Messages & ServiceAddons<any>;\n  }\n}\n\nexport default function (app: Application): void {\n  const options = {\n    Model: createModel(app),\n    paginate: app.get('paginate')\n  };\n\n  // Initialize our service with any options it requires\n  app.use('/messages', new Messages(options, app));\n\n  // Get our initialized service so that we can register hooks\n  const service = app.service('messages');\n\n  service.hooks(hooks);\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7a8cbe64f88899a1af35412395cebb02fafde808","contentHash":"c612c7cef6a245bc129939508bf29453db80f28b26cb13710e63d496de9d27e7"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.class.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.class.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":48}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":23}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":30},"end":{"line":9,"column":5}},"line":7}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.class.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.class.ts"],"names":[],"mappings":";;;AAAA,iDAA4D;AAG5D,MAAa,QAAS,SAAQ,uBAAO;IACnC,4DAA4D;IAC5D,YAAY,OAAoC,EAAE,GAAgB;QAChE,KAAK,CAAC,OAAO,CAAC,CAAC;IACjB,CAAC;CACF;AALD,4BAKC","sourcesContent":["import { Service, NedbServiceOptions } from 'feathers-nedb';\nimport { Application } from '../../declarations';\n\nexport class Messages extends Service {\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  constructor(options: Partial<NedbServiceOptions>, app: Application) {\n    super(options);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f0b802602a8215d177536e6d9a00be51b2c0d566","contentHash":"a057a6312f87d8d9ea386f0958be93522cdb96b5defebda720a4e2e5df1a9dac"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/models/messages.model.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/models/messages.model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":57}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":9,"column":19},"end":{"line":9,"column":34}},"6":{"start":{"line":10,"column":18},"end":{"line":13,"column":6}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":17}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"default_1","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":18}},"loc":{"start":{"line":8,"column":24},"end":{"line":15,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":2,"1":1},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/models/messages.model.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/models/messages.model.ts"],"names":[],"mappings":";;;;;AAAA,0DAAkC;AAClC,gDAAwB;AAGxB,mBAAyB,GAAgB;IACvC,MAAM,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAC/B,MAAM,KAAK,GAAG,IAAI,cAAI,CAAC;QACrB,QAAQ,EAAE,cAAI,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC;QAC1C,QAAQ,EAAE,IAAI;KACf,CAAC,CAAC;IAEH,OAAO,KAAK,CAAC;AACf,CAAC;AARD,4BAQC","sourcesContent":["import NeDB from '@seald-io/nedb';\nimport path from 'path';\nimport { Application } from '../declarations';\n\nexport default function (app: Application): NeDB<any>  {\n  const dbPath = app.get('nedb');\n  const Model = new NeDB({\n    filename: path.join(dbPath, 'messages.db'),\n    autoload: true\n  });\n\n  return Model;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"93bbae7c8e3daf37de120edc013b3448eece0db8","contentHash":"b581295977a9ea0277471cb92490748bc111736159c28dd3419a00874c4ed034"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.hooks.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.hooks.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":23},"end":{"line":29,"column":74}},"28":{"start":{"line":30,"column":26},"end":{"line":30,"column":81}},"29":{"start":{"line":31,"column":24},"end":{"line":31,"column":77}},"30":{"start":{"line":33,"column":25},"end":{"line":33,"column":45}},"31":{"start":{"line":34,"column":0},"end":{"line":62,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":2,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1,"6":2},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[0,0],"14":[0,0],"15":[0,0],"16":[1,1,1],"17":[2,0],"18":[2,2]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.hooks.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/services/messages/messages.hooks.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,2EAA6D;AAC7D,kFAAyD;AACzD,8EAAqD;AACrD,wEAAwE;AAExE,MAAM,EAAE,YAAY,EAAE,GAAG,cAAc,CAAC,KAAK,CAAC;AAE9C,kBAAe;IACb,MAAM,EAAE;QACN,GAAG,EAAE,CAAE,YAAY,CAAC,KAAK,CAAC,CAAE;QAC5B,IAAI,EAAE,EAAE;QACR,GAAG,EAAE,EAAE;QACP,MAAM,EAAE,CAAC,IAAA,yBAAc,GAAE,CAAC;QAC1B,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;KACX;IAED,KAAK,EAAE;QACL,GAAG,EAAE,CAAC,IAAA,uBAAY,GAAE,CAAC;QACrB,IAAI,EAAE,EAAE;QACR,GAAG,EAAE,EAAE;QACP,MAAM,EAAE,EAAE;QACV,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;KACX;IAED,KAAK,EAAE;QACL,GAAG,EAAE,EAAE;QACP,IAAI,EAAE,EAAE;QACR,GAAG,EAAE,EAAE;QACP,MAAM,EAAE,EAAE;QACV,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;KACX;CACF,CAAC","sourcesContent":["import { HooksObject } from '@feathersjs/feathers';\nimport * as authentication from '@feathersjs/authentication';\nimport processMessage from '../../hooks/process-message';\nimport populateUser from '../../hooks/populate-user';\n// Don't remove this comment. It's needed to format import lines nicely.\n\nconst { authenticate } = authentication.hooks;\n\nexport default {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [processMessage()],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [populateUser()],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8f914494171bd2b0988d9336cbdffbc1cdf008a5","contentHash":"00db7d27927f051a7b7ad756cd9268bfcc7c67e52e500f13a98cdbbcdda87baf"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/hooks/process-message.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/hooks/process-message.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":21,"column":2}},"2":{"start":{"line":5,"column":4},"end":{"line":20,"column":6}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":32}},"4":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"5":{"start":{"line":8,"column":12},"end":{"line":8,"column":58}},"6":{"start":{"line":10,"column":21},"end":{"line":10,"column":40}},"7":{"start":{"line":11,"column":21},"end":{"line":13,"column":30}},"8":{"start":{"line":14,"column":8},"end":{"line":18,"column":10}},"9":{"start":{"line":19,"column":8},"end":{"line":19,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":18},"end":{"line":4,"column":19}},"loc":{"start":{"line":4,"column":36},"end":{"line":21,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":11},"end":{"line":5,"column":12}},"loc":{"start":{"line":5,"column":30},"end":{"line":20,"column":5}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":19},"end":{"line":4,"column":31}},"type":"default-arg","locations":[{"start":{"line":4,"column":29},"end":{"line":4,"column":31}}],"line":4},"1":{"loc":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},{"start":{"line":7,"column":8},"end":{"line":9,"column":9}}],"line":7}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"f":{"0":1,"1":0},"b":{"0":[1],"1":[0,0]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/hooks/process-message.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/hooks/process-message.ts"],"names":[],"mappings":";;AAIA,6DAA6D;AAC7D,kBAAe,CAAC,OAAO,GAAG,EAAE,EAAQ,EAAE;IACpC,OAAO,KAAK,EAAE,OAAoB,EAAwB,EAAE;QAC1D,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;QAEzB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACd,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;SAC/C;QAED,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC;QACjC,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI;YACpB,yCAAyC;aACxC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAErB,OAAO,CAAC,IAAI,GAAG;YACb,IAAI;YACJ,MAAM,EAAE,IAAK,CAAC,GAAG;YACjB,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;SAChC,CAAC;QAEF,OAAO,OAAO,CAAC;IACjB,CAAC,CAAC;AACJ,CAAC,CAAC","sourcesContent":["// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nimport { Hook, HookContext } from '@feathersjs/feathers';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport default (options = {}): Hook => {\n  return async (context: HookContext): Promise<HookContext> => {\n    const { data } = context;\n\n    if (!data.text) {\n      throw new Error('A message must have a text');\n    }\n\n    const user = context.params.user;\n    const text = data.text\n      // Messages can't be longer than 400 char\n      .substring(0, 400);\n\n    context.data = {\n      text,\n      userId: user!._id,\n      createdAt: new Date().getTime()\n    };\n    \n    return context;\n  };\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cceb6f569d9a236b602485b8b152eafa6682ea71","contentHash":"8578b1b07aa216bc21b5fb6a9536019ca90e11e8b3e62c4aea55b3297f72b08f"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/hooks/populate-user.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/hooks/populate-user.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":19,"column":2}},"2":{"start":{"line":5,"column":4},"end":{"line":18,"column":6}},"3":{"start":{"line":6,"column":48},"end":{"line":6,"column":55}},"4":{"start":{"line":7,"column":24},"end":{"line":10,"column":9}},"5":{"start":{"line":8,"column":25},"end":{"line":8,"column":79}},"6":{"start":{"line":9,"column":12},"end":{"line":9,"column":40}},"7":{"start":{"line":11,"column":8},"end":{"line":16,"column":51}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":78}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":51}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":18},"end":{"line":4,"column":19}},"loc":{"start":{"line":4,"column":36},"end":{"line":19,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":11},"end":{"line":5,"column":12}},"loc":{"start":{"line":5,"column":30},"end":{"line":18,"column":5}},"line":5},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":24},"end":{"line":7,"column":25}},"loc":{"start":{"line":7,"column":43},"end":{"line":10,"column":9}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":19},"end":{"line":4,"column":31}},"type":"default-arg","locations":[{"start":{"line":4,"column":29},"end":{"line":4,"column":31}}],"line":4},"1":{"loc":{"start":{"line":11,"column":8},"end":{"line":16,"column":51}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":16,"column":51}},{"start":{"line":11,"column":8},"end":{"line":16,"column":51}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"f":{"0":1,"1":0,"2":0},"b":{"0":[1],"1":[0,0]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/hooks/populate-user.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/hooks/populate-user.ts"],"names":[],"mappings":";;AAIA,6DAA6D;AAC7D,kBAAe,CAAC,OAAO,GAAG,EAAE,EAAQ,EAAE;IACpC,OAAO,KAAK,EAAE,OAAoB,EAAwB,EAAE;QAC1D,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC;QAChD,MAAM,OAAO,GAAG,KAAK,EAAE,OAAY,EAAE,EAAE;YACrC,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAEpE,OAAO,EAAE,GAAG,OAAO,EAAE,IAAI,EAAE,CAAC;QAC9B,CAAC,CAAC;QAEF,IAAI,MAAM,KAAK,MAAM;YACnB,0CAA0C;YAC1C,OAAO,CAAC,MAAM,CAAC,IAAI,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;;YAElE,2CAA2C;YAC3C,OAAO,CAAC,MAAM,GAAG,MAAM,OAAO,CAAC,MAAM,CAAC,CAAC;QAEzC,OAAO,OAAO,CAAC;IACjB,CAAC,CAAC;AACJ,CAAC,CAAC","sourcesContent":["// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nimport { Hook, HookContext } from '@feathersjs/feathers';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport default (options = {}): Hook => {\n  return async (context: HookContext): Promise<HookContext> => {\n    const { app, method, result, params } = context;\n    const addUser = async (message: any) => {\n      const user = await app.service('users').get(message.userId, params);\n\n      return { ...message, user };\n    };\n\n    if (method === 'find')\n      // Map all data to include the `user` info\n      context.result.data = await Promise.all(result.data.map(addUser));\n    else\n      // otherwise, just update the single result\n      context.result = await addUser(result);\n\n    return context;\n  };\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ff304845ba31fb3fa5ea93c8d3b66be4040df003","contentHash":"4328b80ca8918a9ac493dd3553c3133fa89d0b8716b66fd071f2739478793f91"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/app.hooks.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/app.hooks.ts","statementMap":{"0":{"start":{"line":4,"column":0},"end":{"line":4,"column":62}},"1":{"start":{"line":5,"column":0},"end":{"line":33,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/app.hooks.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/app.hooks.ts"],"names":[],"mappings":";AAAA,+CAA+C;AAC/C,wEAAwE;;AAExE,kBAAe;IACb,MAAM,EAAE;QACN,GAAG,EAAE,EAAE;QACP,IAAI,EAAE,EAAE;QACR,GAAG,EAAE,EAAE;QACP,MAAM,EAAE,EAAE;QACV,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;KACX;IAED,KAAK,EAAE;QACL,GAAG,EAAE,EAAE;QACP,IAAI,EAAE,EAAE;QACR,GAAG,EAAE,EAAE;QACP,MAAM,EAAE,EAAE;QACV,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;KACX;IAED,KAAK,EAAE;QACL,GAAG,EAAE,EAAE;QACP,IAAI,EAAE,EAAE;QACR,GAAG,EAAE,EAAE;QACP,MAAM,EAAE,EAAE;QACV,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;KACX;CACF,CAAC","sourcesContent":["// Application hooks that run for every service\n// Don't remove this comment. It's needed to format import lines nicely.\n\nexport default {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b649de6c94e9f42bfb26634cc29b12a949fff3fe","contentHash":"4056240887f9e3c64de388e6361852fd237b73f96d2a841924ba863bf22bf5d0"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/channels.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/channels.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"2":{"start":{"line":5,"column":4},"end":{"line":8,"column":5}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":15}},"4":{"start":{"line":9,"column":4},"end":{"line":12,"column":7}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":50}},"6":{"start":{"line":13,"column":4},"end":{"line":32,"column":7}},"7":{"start":{"line":16,"column":8},"end":{"line":31,"column":9}},"8":{"start":{"line":20,"column":12},"end":{"line":20,"column":55}},"9":{"start":{"line":22,"column":12},"end":{"line":22,"column":58}},"10":{"start":{"line":34,"column":4},"end":{"line":40,"column":7}},"11":{"start":{"line":37,"column":8},"end":{"line":37,"column":163}},"12":{"start":{"line":39,"column":8},"end":{"line":39,"column":44}},"13":{"start":{"line":52,"column":0},"end":{"line":52,"column":28}}},"fnMap":{"0":{"name":"default_1","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":18}},"loc":{"start":{"line":4,"column":24},"end":{"line":51,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":25},"end":{"line":9,"column":26}},"loc":{"start":{"line":9,"column":41},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":20},"end":{"line":13,"column":21}},"loc":{"start":{"line":13,"column":52},"end":{"line":32,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":34,"column":16},"end":{"line":34,"column":17}},"loc":{"start":{"line":34,"column":32},"end":{"line":40,"column":5}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":4},"end":{"line":8,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":8,"column":5}},{"start":{"line":5,"column":4},"end":{"line":8,"column":5}}],"line":5},"1":{"loc":{"start":{"line":16,"column":8},"end":{"line":31,"column":9}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":31,"column":9}},{"start":{"line":16,"column":8},"end":{"line":31,"column":9}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":0,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[0,1],"1":[0,0]},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/channels.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/channels.ts"],"names":[],"mappings":";;AAAA,yCAAuC;AAIvC,mBAAwB,GAAgB;IACtC,IAAG,OAAO,GAAG,CAAC,OAAO,KAAK,UAAU,EAAE;QACpC,gEAAgE;QAChE,OAAO;KACR;IAED,GAAG,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,UAAe,EAAQ,EAAE;QAC7C,iEAAiE;QACjE,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,UAAe,EAAE,EAAE,UAAU,EAAO,EAAQ,EAAE;QAC7D,6CAA6C;QAC7C,sDAAsD;QACtD,IAAG,UAAU,EAAE;YACb,gDAAgD;YAChD,gCAAgC;YAEhC,mDAAmD;YACnD,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YAE3C,2CAA2C;YAC3C,GAAG,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAE9C,8DAA8D;YAE9D,mDAAmD;YACnD,+DAA+D;YAE/D,yCAAyC;YACzC,8GAA8G;YAE9G,sEAAsE;YACtE,wDAAwD;YACxD,sDAAsD;SACvD;IACH,CAAC,CAAC,CAAC;IAEH,6DAA6D;IAC7D,GAAG,CAAC,OAAO,CAAC,CAAC,IAAS,EAAE,IAAiB,EAAE,EAAE;QAC3C,wEAAwE;QACxE,8EAA8E;QAE9E,OAAO,CAAC,GAAG,CAAC,6IAA6I,CAAC,CAAC,CAAC,sBAAsB;QAElL,oEAAoE;QACpE,OAAO,GAAG,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,0DAA0D;IAC1D,+EAA+E;IAC/E,wEAAwE;IAExE,yFAAyF;IACzF,0CAA0C;IAC1C,aAAa;IACb,gDAAgD;IAChD,mDAAmD;IACnD,OAAO;IACP,MAAM;AACR,CAAC;AA5DD,4BA4DC","sourcesContent":["import '@feathersjs/transport-commons';\nimport { HookContext } from '@feathersjs/feathers';\nimport { Application } from './declarations';\n\nexport default function(app: Application): void {\n  if(typeof app.channel !== 'function') {\n    // If no real-time functionality has been configured just return\n    return;\n  }\n\n  app.on('connection', (connection: any): void => {\n    // On a new real-time connection, add it to the anonymous channel\n    app.channel('anonymous').join(connection);\n  });\n\n  app.on('login', (authResult: any, { connection }: any): void => {\n    // connection can be undefined if there is no\n    // real-time connection, e.g. when logging in via REST\n    if(connection) {\n      // Obtain the logged in user from the connection\n      // const user = connection.user;\n      \n      // The connection is no longer anonymous, remove it\n      app.channel('anonymous').leave(connection);\n\n      // Add it to the authenticated user channel\n      app.channel('authenticated').join(connection);\n\n      // Channels can be named anything and joined on any condition \n      \n      // E.g. to send real-time events only to admins use\n      // if(user.isAdmin) { app.channel('admins').join(connection); }\n\n      // If the user has joined e.g. chat rooms\n      // if(Array.isArray(user.rooms)) user.rooms.forEach(room => app.channel(`rooms/${room.id}`).join(connection));\n      \n      // Easily organize users by email and userid for things like messaging\n      // app.channel(`emails/${user.email}`).join(connection);\n      // app.channel(`userIds/${user.id}`).join(connection);\n    }\n  });\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  app.publish((data: any, hook: HookContext) => {\n    // Here you can add event publishers to channels set up in `channels.ts`\n    // To publish only for a specific event use `app.publish(eventname, () => {})`\n\n    console.log('Publishing all events to all authenticated users. See `channels.ts` and https://docs.feathersjs.com/api/channels.html for more information.'); // eslint-disable-line\n\n    // e.g. to publish all service events to all authenticated users use\n    return app.channel('authenticated');\n  });\n\n  // Here you can also add service specific event publishers\n  // e.g. the publish the `users` service `created` event to the `admins` channel\n  // app.service('users').publish('created', () => app.channel('admins'));\n  \n  // With the userid and email organization from above you can easily select involved users\n  // app.service('messages').publish(() => {\n  //   return [\n  //     app.channel(`userIds/${data.createdBy}`),\n  //     app.channel(`emails/${data.recipientEmail}`)\n  //   ];\n  // });\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"598324e409d7063bd91d409ba7673e72f9e1406f","contentHash":"6719f33b1b2d1e7ad0bc16638e5597b6475307bfc6ed51556f7fe6147c68806b"},"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/authentication.ts":{"path":"/Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/authentication.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":62}},"2":{"start":{"line":4,"column":31},"end":{"line":4,"column":74}},"3":{"start":{"line":5,"column":31},"end":{"line":5,"column":74}},"4":{"start":{"line":8,"column":25},"end":{"line":8,"column":85}},"5":{"start":{"line":9,"column":8},"end":{"line":14,"column":10}},"6":{"start":{"line":18,"column":27},"end":{"line":18,"column":74}},"7":{"start":{"line":19,"column":4},"end":{"line":19,"column":71}},"8":{"start":{"line":20,"column":4},"end":{"line":20,"column":81}},"9":{"start":{"line":21,"column":4},"end":{"line":21,"column":60}},"10":{"start":{"line":22,"column":4},"end":{"line":22,"column":47}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":62}},"12":{"start":{"line":25,"column":0},"end":{"line":25,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":59},"end":{"line":15,"column":5}},"line":7},"1":{"name":"default_1","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":18}},"loc":{"start":{"line":17,"column":24},"end":{"line":24,"column":1}},"line":17}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":0,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/authentication.ts","sources":["file:///Users/robert.rayburn/Projects/feathers-basics/feathers-chat/src/authentication.ts"],"names":[],"mappings":";;AACA,+DAAgF;AAChF,2EAAiE;AACjE,2EAA6F;AAU7F,MAAM,cAAe,SAAQ,oCAAa;IACxC,KAAK,CAAC,aAAa,CAAC,OAAqB,EAAE,eAAoB,EAAE,OAAe;QAC9E,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;QAE9E,OAAO;YACL,GAAG,QAAQ;YACX,IAAI,EAAE,OAAO,CAAC,KAAK;YACnB,MAAM,EAAE,OAAO,CAAC,UAAU;YAC1B,KAAK,EAAE,OAAO,CAAC,KAAK;SACrB,CAAC;IACJ,CAAC;CACF;AAED,mBAAwB,GAAgB;IACtC,MAAM,cAAc,GAAG,IAAI,sCAAqB,CAAC,GAAG,CAAC,CAAC;IAEtD,cAAc,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,4BAAW,EAAE,CAAC,CAAC;IAClD,cAAc,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,oCAAa,EAAE,CAAC,CAAC;IACtD,cAAc,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,cAAc,EAAE,CAAC,CAAC;IAExD,GAAG,CAAC,GAAG,CAAC,iBAAiB,EAAE,cAAc,CAAC,CAAC;IAC3C,GAAG,CAAC,SAAS,CAAC,IAAA,mCAAY,GAAE,CAAC,CAAC;AAChC,CAAC;AATD,4BASC","sourcesContent":["import { Params, ServiceAddons } from '@feathersjs/feathers';\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication';\nimport { LocalStrategy } from '@feathersjs/authentication-local';\nimport { expressOauth, OAuthProfile, OAuthStrategy } from '@feathersjs/authentication-oauth';\n\nimport { Application } from './declarations';\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    'authentication': AuthenticationService & ServiceAddons<any>;\n  }\n}\n\nclass GitHubStrategy extends OAuthStrategy {\n  async getEntityData(profile: OAuthProfile, _existingEntity: any, _params: Params): Promise<{ [x: string]: any; }> {\n    const baseData = await super.getEntityData(profile, _existingEntity, _params);\n\n    return {\n      ...baseData,\n      name: profile.login,\n      avatar: profile.avatar_url,\n      email: profile.email\n    };\n  }\n}\n\nexport default function(app: Application): void {\n  const authentication = new AuthenticationService(app);\n\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('github', new GitHubStrategy());\n\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"993aa37fa5ec141d7b64dc3e341981ff463fb0b3","contentHash":"31d9f36239ff360b6e7e44037fb3ab6f4353125cbc3e2d08a709bfc5e1f8907a"}}